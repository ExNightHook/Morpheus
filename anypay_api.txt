Для создания нового платежа необходимо отправить запрос на специальный URL, а также передать ряд обязательных параметров (POST/GET). Ответ в формате JSON.
URL
https://anypay.io/api/create-payment/[API_ID]
Headers
Accept: application/json
Content-Type: multipart/form-data
Параметры
Значение	Обязательный	Описание
project_id	число	Да	Идентификатор проекта
pay_id	число	Да	Номер заказа в системе продавца (до 15 символов из символов "0-9")
amount	число	Да	Сумма платежа (например, 100.00)
currency	текст	Да	Валюта платежа (см. валюты платежей)
desc	строка	Да	Краткое описание платежа (до 150 символов)
email	строка	Да	Адрес электронной почты плательщика
phone	число	Нет	Номер телефона плательщика (например, 79990000000)
method	текст	Да	Метод платежа (см. платежные методы)
method_currency	текст	Нет	Валюта метода оплаты:
  card — Банк. карта (RUB, UAH, BYN, KZT);
  wm — Webmoney (USD, EUR);
  advcash — Advcash (RUB, USD, EUR);
  pm — Perfect Money (USD, EUR)
success_url	строка	Нет	Адрес переадресации в случае успешной оплаты
fail_url	строка	Нет	Адрес переадресации в случае неуспешной оплаты
lang	текст	Нет	Язык интерфейса страницы оплаты:
  ru — русский (по умолчанию);
  en — английский
sign	строка	Да	Подпись запроса. Формируется путем склеивания параметров и создания хэша SHA256
hash('sha256', 'create-payment[API_ID][project_id][pay_id][amount][currency][desc][method][API_KEY]')
Определяется продавцом		Нет	Дополнительные параметры продавца
Пример ответа
{
    "result": {
        "transaction_id": 4950030,
        "pay_id": 1335,
        "status": "waiting",
        "payment_url": "https://anypay.io/pay/de13d3493-4508-4c6a-90d4",
        "payment_data": {
            "amount": 0.00038084,
            "currency": "BTC",
            "account": "3G4z9TS4er8MKyXEFTYE7YrNuc382bAVZB"
        }
    }
}
Значение	Описание
transaction_id	число	Номер платежа
pay_id	число	Номер заказа в системе продавца
status	строка	Статус платежа (см. статусы платежей)
payment_url	строка	Ссылка на оплату
payment_data["amount"]	число	Сумма к оплате
payment_data["currency"]	строка	Валюта к оплате
payment_data["account"]	строка	Номер счета получателя, на который необходимо произвести перевод
payment_data["bank"]	строка	Банк получателя






Для получения списка актуальных IP адресов, с которых отправляются оповещения о платежах, необходимо отправить запрос на специальный URL, а также передать ряд обязательных параметров (POST/GET). Ответ в формате JSON.
URL
https://anypay.io/api/ip-notification/[API_ID]
Headers
Accept: application/json
Content-Type: multipart/form-data
Параметры
Значение	Обязательный	Описание
sign	строка	Да	Подпись запроса. Формируется путем склеивания параметров и создания хэша SHA256
hash('sha256', 'ip-notification[API_ID][API_KEY]')
Пример ответа
{
    "result": {
        "ip": [ "185.162.128.38", "185.162.128.39", "185.162.128.88" ]
    }
}
Значение	Описание
ip	массив	Список IP адресов сервиса






Код ошибки	Описание
100	Неверный формат запроса
101	Ошибка авторизации
102	Неверная контрольная подпись
103	API отключен для данного аккаунта
104	Ограничение по IP адресу
105	Слишком много запросов
200	Неверный идентификатор проекта
201	Проект неактивен
202	Некорретный номер платежа.
Номер платежа должен быть уникальным
203	Некорректная сумма платежа
204	Сумма платежа меньше допустимой
205	Сумма платежа больше допустимой
206	Некорректная валюта платежа
207	Некорректный метод оплаты
208	Платежный метод недоступен
209	Некорректная валюта метода оплаты
210	Не указано описание платежа
211	Некорректный адрес электронной почты
212	Некорректный номер телефона
213	Некорретный формат success url
214	Некорретный формат fail url
215	Не удалось сгенерировать ссылку на оплату
216	Для данного номера недоступна услуга мобильной коммерции
300	Недопустимое платежное направление
301	Некорректный формат номера счета получателя
302	Некорректный тип комиссии
303	Некорректная сумма платежа
304	Некорретный номер выплаты.
Номер выплаты должен быть уникальным
305	Недостаточно средств на балансе
306	Сумма выплаты меньше допустимой
307	Сумма выплаты больше допустимой
308	Некорретный формат status url
309	Внутренняя техническая ошибка
310	Операция запрещена для выполнения пользователем
311	Платежное направление недоступно
312	Некорректный банк получателя
Пример  ошибки
{
    "error": {
        "code": "102",
        "message":"Invalid sign"
    }
}







Значение
Сбербанк
Т-Банк
Банк ВТБ
Альфа-Банк
Райффайзенбанк
Банк Открытие
Газпромбанк
Промсвязьбанк
Хоум кредит
Россельхозбанк
Росбанк
Банк ИПБ
АКБ Абсолют Банк
БыстроБанк
Нацинвестпромбанк
Датабанк
КБ Энерготрансбанк
АКБ Форштадт
Владбизнесбанк
Первый Инвестиционный Банк
Банк Йошкар-Ола
КБ Долинск
Банк Финам
СДМ-Банк
Банк Точка
Банк Кремлевский
Банк Венец
Кредит Урал Банк
Роял Кредит Банк
Деньги.Мэйл.Ру
УКБ Новобанк
Хакасский муниципальный банк
Промтрансбанк
Тимер Банк
Банк Акцепт
Морской банк
Инбанк
Совкомбанк
ЮниКредит Банк
Банк Элита
Банк Агропромкредит
Енисейский объединенный банк
КБ Стройлесбанк
Хайс Банк
КБ Новый век
Точка ФК Открытие
Банк Интеза
КБ Пойдём!
Русьуниверсалбанк
Таврический Банк
КБ Модульбанк
АКБ Алеф-Банк
КБ Аресбанк
Вайлдберриз Банк
Банк ПСКБ
ПНКО ЭЛПЛАТ
МОБИ.Деньги
НКО ЮМани
КБ РостФинанс
Экспобанк
КБ Руснарбанк
НИКО-Банк
Банк ВБРР
Акибанк
Банк Развитие-Столица
Банк МФК
Кузнецкбизнесбанк
Кредит Европа Банк
АКБ Славия
Индустриальный Сберегательный Банк
Банк Национальный стандарт
КБ Кубань Кредит
Ак Барс Банк
Томскпромстройбанк
Дальневосточный банк
Бланк банк
Банк Оренбург
Ставропольпромстройбанк
Банк Итуруп
Внешфинбанк
ЮГ-Инвестбанк
Реалист Банк
Банк Александровский
Финстар Банк
Азиатско-Тихоокеанский Банк
КБ УБРиР
Челябинвестбанк
КБ Солидарность
Синко-Банк
Локо-Банк
Тендер-Банк
АКБ Трансстройбанк
Банк Заречье
Северный Народный Банк
ВУЗ-банк
Социум-Банк
Банк БКФ
КБ Гарант-Инвест
Банк МБА-Москва
Газтрансбанк
АКБ Держава
Банк Раунд
Земский банк
НС Банк
МБ Банк
АКБ Ланта-Банк
ФФИН Банк
Углеметбанк
ИК Банк
КБ Крокус-Банк
Сибсоцбанк
Банк Агророс
УКБ Белгородсоцбанк
Драйв Клик Банк
Уралпромбанк
Банк Объединенный капитал
Банк Зенит
Кошелев-Банк
Банк Аверс
Нокссбанк
Эс-Би-Ай Банк
МС Банк Рус
Ишбанк
МТС Банк
РНКБ
Почта Банк






