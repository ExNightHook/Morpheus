форма оплаты:
Для инициализации оплаты магазин должен отправить покупателя по специальному URL, а также передать ряд обязательных параметров (POST/GET).
URL
https://anypay.io/merchant
Параметры
Обязательный	Значение	Описание
merchant_id	Да	число	Идентификатор проекта
pay_id	Да	число	Номер заказа в системе продавца (до 15 символов из символов "0-9")
amount	Да	число	Сумма платежа (например, 100.00)
currency	Да	текст	Валюта платежа (см. валюты платежей)
desc	Нет	строка	Краткое описание платежа (до 150 символов)
email	Нет	строка	Адрес электронной почты плательщика
phone	Нет	число	Номер телефона плательщика (например, 79990000000)
method	Нет	текст	Метод платежа (см. платежные методы)
success_url	Нет	строка	Адрес переадресации в случае успешной оплаты.

Важно! В адресе обязательно должен использоваться домен проекта
fail_url	Нет	строка	Адрес переадресации в случае неуспешной оплаты.

Важно! В адресе обязательно должен использоваться домен проекта
lang	Нет	текст	Язык интерфейса страницы оплаты:
  ru — русский (по умолчанию);
  en — английский
sign	Да	строка	Контрольная подпись формы оплаты
Определяется продавцом	Нет		Дополнительные параметры продавца
Контрольная подпись
MD5
Формирование подписи производится путем конкатенации параметров через ":" и создания контрольной суммы MD5. Склеиваются параметры currency, amount, секретный ключ, merchant_id и pay_id.

SHA256
Формирование подписи производится путем конкатенации параметров через ":" и создания хэша SHA256. Склеиваются параметры merchant_id, pay_id, amount, currency, desc, success_url, fail_url и секретный ключ.
Пример формы (PHP)
<?php
  $project_id = '1399';
  $pay_id = '1443429';
  $amount = '100.00';
  $currency = 'RUB';
  $desc = 'Пример оплаты';
  $success_url = '';
  $fail_url = '';
  $secret_key = 'NLmx0woAqrgHYnMbDSVLChCJ77R8adf';

  $arr_sign = array( 
      $project_id, 
      $pay_id,
      $amount, 
      $currency, 
      $desc, 
      $success_url, 
      $fail_url, 
      $secret_key
  );

  $sign = hash('sha256', implode(':', $arr_sign)); 
?>

<form action='https://anypay.io/merchant' accept-charset='utf-8' method='post'>
<input type='hidden' name='merchant_id' value='<?php echo $project_id; ?>'>
<input type='hidden' name='amount' value='<?php echo $amount; ?>'>
<input type='hidden' name='currency' value='<?php echo $currency; ?>'>
<input type='hidden' name='pay_id' value='<?php echo $pay_id; ?>'>
<input type='hidden' name='desc' value='<?php echo $desc; ?>'>
<input type='hidden' name='email' value='example@mail.com'>
<input type='hidden' name='sign' value='<?php echo $sign; ?>'>
<input type=submit value='Купить'>
</form>



Оповещение об оплате
После финализации платежа наш сервис отправляет запрос с параметрами на URL оповещения, указанный в настройках проекта.
Параметры
Описание
merchant_id	Идентификатор проекта
transaction_id	Номер платежа
pay_id	Номер заказа в системе продавца
amount	Сумма платежа.

Важно! Cверяйте поступившее значение с оригинальной суммой платежа
currency	Валюта платежа (см. валюты платежей).

Важно! Cверяйте поступившее значение с оригинальной валютой платежа
profit	Сумма к зачислению (в рублях)
email	Адрес электронной почты плательщика
method	Метод платежа (см. платежные методы)
status	Статус платежа (см. статусы платежей)
test	Признак тестового режима:
  0 — реальный платеж;
  1 — тестовый платеж
created_date	Дата и время создания платежа в формате DD.MM.YYYY hh:mm:ss
completed_date	Дата и время обработки платежа в формате DD.MM.YYYY hh:mm:ss
sign	Контрольная подпись
Определяется продавцом	Дополнительные параметры
Проверка IP адреса
Проверяйте IP адреса, с которых поступают запросы. Наши IP: 185.162.128.38, 185.162.128.39, 185.162.128.88.
Контрольня подпись
MD5
Формирование подписи производится путем конкатенации параметров через ":" и создания контрольной суммы MD5. Склеиваются параметры merchant_id, amount, pay_id и секретный ключ.

SHA256
Формирование подписи производится путем конкатенации параметров через ":" и создания хэша SHA256. Склеиваются параметры currency, amount, pay_id, merchant_id, status и секретный ключ.
Подтверждение платежа
При включении данной функции наш сервис будет отправлять запросы об успешной оплате каждые 10 минут в течение часа, до тех пор, пока не получит ответ от обработчика — OK (латиница).
Пример обработчика (PHP)
<?php
  $project_id = '1399';
  $status = 'paid';
  $secret_key = 'NLmx0woAqrgHYnMbDSVLChCJ77R8adf';

  $arr_ip = array(
      '185.162.128.38', 
      '185.162.128.39', 
      '185.162.128.88'
  );

  $arr_sign = array(
      $_REQUEST['currency'], 
      $_REQUEST['amount'], 
      $_REQUEST['pay_id'],
      $project_id,
      $status,
      $secret_key
  );

  $sign = hash('sha256', implode(":", $arr_sign)); 

  if(!in_array($_SERVER['REMOTE_ADDR'], $arr_ip)){
      die("bad ip!");
  } 

  if($sign != $_REQUEST['sign']){
      die('wrong sign!');
  }

  // Оплата прошла успешно, можно проводить операцию  

  die('OK');  
?>     



Переадресация после успешной оплаты
После успешного проведения платежа, покупатель будет перенаправлен на URL успешной оплаты, указанный в настройках проекта.
Параметры
Описание
pay_id	Номер заказа в системе продавца
amount	Сумма платежа
currency	Валюта платежа (см. валюты платежей)
Определяется продавцом	Дополнительные параметры



Переадресация после неуспешной оплаты
После неуспешного проведения платежа, покупатель будет перенаправлен на URL неуспешной оплаты, указанный в настройках проекта.
Параметры
Описание
pay_id	Номер заказа в системе продавца
amount	Сумма платежа
currency	Валюта платежа (см. валюты платежей)
Определяется продавцом	Дополнительные параметры



Платежные методы
Значение	Платежный метод
card	Банк. карта
sbp	СБП
ob	Open Banking
ym	ЮMoney
wm	Webmoney
advcash	Volet
pm	Perfect Money
applepay	Apple Pay
googlepay	Google Pay
samsungpay	Samsung Pay
payeer	Payeer
btc	Bitcoin
eth	Ethereum
bch	Bitcoin Cash
ltc	Litecoin
dash	Dash
zec	Zcash
doge	Dogecoin
usdt	Tether
ton	Toncoin
mts	МТС
megafon	Мегафон
beeline	Билайн
tele2	Теле2
term	Терминал


Валюты платежей
Значение	Валюта платежа
RUB	Российский рубль
UAH	Украинская гривна
BYN	Белорусский рубль
KZT	Казахстанский тенге
USD	Доллар США
EUR	Евро


Статусы платежей
Значение	Статус платежа
paid	Оплачен
partially-paid	Частично оплачен
waiting	Не оплачен
refund	Возврат
canceled	Отменен
expired	Просрочен
error	Ошибка